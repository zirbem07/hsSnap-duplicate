<link href="./css/message.css" rel="stylesheet">

<ion-modal-view class="messaging-view">
    <!-- <ion-header-bar>
            <h1 class="title">Feedback</h1>
            <button class="button button-clear" style="color: red; margin-left: 3px; padding-bottom: 10px; text-transform: none; max-width: 70px; min-width: 70px; font-size: 14pt" ng-click="closeFeedbackModal()">Close</button>
        </ion-header-bar>
    <ion-content>
        <ion-list>
            <ion-item ng-repeat="feedback in currentPatient.feedback.array | orderBy: feedback.document.Timestamp | reverse track by $index" class="item-text-wrap">
                <h3>{{feedback.document.ExerciseName}}</h3>
                <p>{{feedback.document.Message}}</p>
                <span>{{feedback.document.Timestamp}}</span>
            </ion-item>
        </ion-list>
    </ion-content> -->
        <ion-header-bar class="bar-calm">
        <h1 class="title">Messages</h1>
        <button class="button button-clear" style="color: white; margin-left: 3px; padding-bottom: 10px; text-transform: none; max-width: 70px; min-width: 70px; font-size: 14pt" ng-click="closeFeedbackModal()">Close</button>

        </ion-header-bar>

        <ion-content class="content-stable"
                    on-swipe-left="hideTime = false"
                    on-swipe-right="hideTime = true">

        <div ng-repeat="message in messages"
            ng-class="{other: message.From != 'patient'}"
            class="messages">

            <div class="message">
                <div>
                    
                    <span class="messageSpan">
                        <strong ng-if="message.Title" style="font-size: 125%;">{{message.Title}}<br></strong>
                        {{ message.Message }}
                    </span>
                </div>

                <div>
                    {{message.Timestamp}}
                </div>
            </div>

        </div>

        </ion-content>

        <ion-footer-bar keyboard-attach class="bar-stable item-input-inset">
            <label class="item-input-wrapper">
                <input type="text" placeholder="Type your message" on-return="sendMessage(); closeKeyboard()" ng-model="data.message" on-focus="inputUp()" on-blur="inputDown()" />
            </label>
            <button class="button button-royal" style="padding-left: 6px" ng-click="sendMessage()">
                <div>Send</div>
            </button>
        </ion-footer-bar>
</ion-modal-view>
